                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        data: {
                            ID: orderID,
                            Naam: name,
                            Email: email,
                            Ophaaldatum: pickupDate,
                            Items: orderItems,
                            Totaalprijs: total.toFixed(2)
                        }
                    })
                });

                if (response.ok) {
                    showOrderMessage('Bedankt voor je bestelling! We hebben je bestelling succesvol ontvangen.');
                    cart = [];
                    renderCart();
                    checkoutOverlay.classList.remove('active');
                    nameInput.value = '';
                    emailInput.value = '';
                    pickupDateInput.value = '';
                } else {
                    console.error('SheetDB response niet ok', response.status, await response.text());
                    showOrderMessage('Er is een fout opgetreden. Probeer het later opnieuw.');
                }
            } catch (error) {
                console.error('Fout bij verzenden bestelling:', error);
                showOrderMessage('Er is een fout opgetreden. Probeer het later opnieuw.');
            }
        });

        renderCart();
        loadProducts();
    </script>
</body>
</html>
